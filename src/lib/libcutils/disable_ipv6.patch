diff --git a/libcutils/libcutils/socket_inaddr_any_server_unix.c b/libcutils/libcutils/socket_inaddr_any_server_unix.c
index 387258fdf..341b8f2d6 100644
--- a/libcutils/libcutils/socket_inaddr_any_server_unix.c
+++ b/libcutils/libcutils/socket_inaddr_any_server_unix.c
@@ -32,15 +32,15 @@
 /* open listen() port on any interface */
 int socket_inaddr_any_server(int port, int type)
 {
-    struct sockaddr_in6 addr;
+    struct sockaddr_in addr;
     int s, n;
 
     memset(&addr, 0, sizeof(addr));
-    addr.sin6_family = AF_INET6;
-    addr.sin6_port = htons(port);
-    addr.sin6_addr = in6addr_any;
+    addr.sin_family = AF_INET;
+    addr.sin_port = htons(port);
+    addr.sin_addr.s_addr = htonl (INADDR_ANY);
 
-    s = socket(AF_INET6, type, 0);
+    s = socket(AF_INET, type, 0);
     if (s < 0) return -1;
 
     n = 1;
