#!/usr/bin/env python3

import sys
import argparse
import unittest

from pyparsing import *

class Soong:

    def __init__ (self):
        self._data = []
        self._grammar = StringEnd()

    def parse (self, infile):
        with open (infile, 'r') as f:
            self._grammar.parseFile (f)

    def data (self):
        return self._data

class TestSoong (unittest.TestCase):

    def setUp (self):
        self.testdir = "tests/soong2mk"

    def test_empty_input (self):
        infile = self.testdir + "/001_empty_file.bp"
        soong = Soong()
        soong.parse (infile)
        data = soong.data()

        # Expect empty result data for empty file
        self.assertFalse (data)

if __name__ == "__main__":
    suite = unittest.TestLoader().loadTestsFromTestCase(TestSoong)
    unittest.TextTestRunner().run(suite)
